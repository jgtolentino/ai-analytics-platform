(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7153:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return s(180)}])},180:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return p},default:function(){return y}});var r=s(5893),a=s(7294),i=s(2371),l=s(6270),n=s(135),c=s(6169);function o(e){let{data:t,className:s="",height:i=400}=e,[l,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),d=t.reduce((e,t)=>e+t.totalValue,0),x=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g=e=>e.totalValue/d*100,h=(e,t)=>e.value/t*100,m=e=>e?e>5?"\uD83D\uDE80":e>0?"\uD83D\uDCC8":e<-5?"\uD83D\uDCC9":"➡️":"",u=e=>e?e>0?"text-green-600":e<0?"text-red-600":"text-gray-600":"text-gray-500";return(0,r.jsxs)("div",{className:"basket-share-treemap bg-white rounded-lg p-6 ".concat(s),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basket Share Analysis"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Category → Brand distribution"})]}),l&&(0,r.jsx)("button",{onClick:()=>n(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"← View All Categories"})]}),(0,r.jsx)("div",{className:"treemap-container mb-6",style:{height:i},children:l?(0,r.jsx)("div",{className:"h-full",children:(()=>{let e=t.find(e=>e.category===l);return e?(0,r.jsxs)("div",{className:"h-full",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:l}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[x(e.totalValue)," • ",e.percentage.toFixed(1),"% of total"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 h-5/6",children:e.brands.map((t,s)=>{let a=(null==c?void 0:c.category)===l&&(null==c?void 0:c.brand)===t.name;return(0,r.jsxs)("div",{className:"\n                            relative p-4 rounded-lg cursor-pointer transition-all duration-300 transform\n                            ".concat(a?"scale-105 shadow-lg":"hover:scale-102 hover:shadow-md","\n                          "),style:{backgroundColor:t.color,minHeight:"".concat(Math.max(2*h(t,e.totalValue),80),"px")},onMouseEnter:()=>o({category:l,brand:t.name}),onMouseLeave:()=>o(null),children:[(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("div",{className:"font-semibold text-sm mb-1 line-clamp-2",children:t.name}),(0,r.jsxs)("div",{className:"text-xs opacity-90",children:[t.percentage.toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-xs opacity-75",children:x(t.value)}),void 0!==t.growth&&(0,r.jsx)("div",{className:"mt-1 text-xs",children:(0,r.jsxs)("span",{className:u(t.growth),children:[m(t.growth)," ",t.growth>0?"+":"",t.growth.toFixed(1),"%"]})})]}),a&&(0,r.jsxs)("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:[(0,r.jsx)("div",{className:"font-semibold",children:t.name}),(0,r.jsxs)("div",{children:[x(t.value)," (",t.percentage.toFixed(1),"%)"]}),void 0!==t.growth&&(0,r.jsxs)("div",{children:[t.growth>0?"+":"",t.growth.toFixed(1),"% growth"]})]})]},s)})})]}):null})()}):(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 h-full",children:t.map((e,t)=>{let s=(null==c?void 0:c.category)===e.category,a=g(e);return(0,r.jsxs)("div",{className:"\n                    relative p-4 rounded-lg cursor-pointer transition-all duration-300 transform\n                    bg-gradient-to-br from-blue-500 to-blue-600 text-white\n                    ".concat(s?"scale-105 shadow-lg from-blue-600 to-blue-700":"hover:scale-102 hover:shadow-md","\n                  "),style:{minHeight:"".concat(Math.max(3*a,120),"px")},onClick:()=>n(e.category),onMouseEnter:()=>o({category:e.category}),onMouseLeave:()=>o(null),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold text-lg mb-2",children:e.category}),(0,r.jsxs)("div",{className:"text-sm opacity-90 mb-1",children:[e.percentage.toFixed(1),"% of basket"]}),(0,r.jsx)("div",{className:"text-sm opacity-75 mb-2",children:x(e.totalValue)}),(0,r.jsxs)("div",{className:"text-xs opacity-75",children:[e.brands.length," brands"]})]}),(0,r.jsxs)("div",{className:"absolute bottom-3 right-3 flex flex-wrap gap-1",children:[e.brands.slice(0,6).map((e,t)=>(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-white opacity-60",title:e.name},t)),e.brands.length>6&&(0,r.jsxs)("div",{className:"text-xs opacity-60",children:["+",e.brands.length-6]})]}),(0,r.jsx)("div",{className:"absolute top-3 right-3 text-xs opacity-60",children:"\uD83D\uDD0D"}),s&&(0,r.jsxs)("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:["Click to explore ",e.brands.length," brands"]})]},t)})})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:t.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Categories"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:t.reduce((e,t)=>e+t.brands.length,0)}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Brands"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:x(d)}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Value"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:t[0]?t[0].category:"N/A"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Top Category"})]})]}),(0,r.jsx)("div",{className:"text-center text-xs text-gray-500",children:"\uD83D\uDCA1 Click on categories to explore brands • Hover for details • Size represents market share"})]})}let d=[{category:"Beverages",totalValue:1245600,percentage:32.4,brands:[{name:"Coca-Cola",value:485672,percentage:39,color:"#DC2626",growth:5.2},{name:"Pepsi",value:312450,percentage:25.1,color:"#2563EB",growth:-2.1},{name:"Sprite",value:198543,percentage:15.9,color:"#16A34A",growth:8.7},{name:"RC Cola",value:134567,percentage:10.8,color:"#7C2D12",growth:1.3},{name:"Royal",value:114368,percentage:9.2,color:"#7C3AED",growth:-.5}]},{category:"Snacks",totalValue:892340,percentage:23.2,brands:[{name:"Lay's",value:267891,percentage:30,color:"#EAB308",growth:12.4},{name:"Pringles",value:178456,percentage:20,color:"#DC2626",growth:6.8},{name:"Chippy",value:142674,percentage:16,color:"#F97316",growth:3.2},{name:"Nova",value:125234,percentage:14,color:"#8B5CF6",growth:-1.4},{name:"Piatos",value:89234,percentage:10,color:"#06B6D4",growth:4.7},{name:"Oishi",value:88851,percentage:10,color:"#84CC16",growth:2.1}]},{category:"Personal Care",totalValue:645780,percentage:16.8,brands:[{name:"Colgate",value:193734,percentage:30,color:"#DC2626",growth:4.1},{name:"Head & Shoulders",value:161445,percentage:25,color:"#2563EB",growth:7.3},{name:"Palmolive",value:129156,percentage:20,color:"#16A34A",growth:-.8},{name:"Close-Up",value:97167,percentage:15,color:"#7C3AED",growth:2.9},{name:"Safeguard",value:64578,percentage:10,color:"#F97316",growth:1.7}]},{category:"Household",totalValue:534210,percentage:13.9,brands:[{name:"Tide",value:160263,percentage:30,color:"#F97316",growth:6.2},{name:"Joy",value:133553,percentage:25,color:"#16A34A",growth:3.4},{name:"Surf",value:106842,percentage:20,color:"#2563EB",growth:1.8},{name:"Ariel",value:80132,percentage:15,color:"#7C2D12",growth:-2.3},{name:"Downy",value:53421,percentage:10,color:"#8B5CF6",growth:4.9}]},{category:"Dairy",totalValue:523070,percentage:13.6,brands:[{name:"Nestle",value:209228,percentage:40,color:"#DC2626",growth:8.1},{name:"Alaska",value:156922,percentage:30,color:"#2563EB",growth:5.7},{name:"Bear Brand",value:104614,percentage:20,color:"#F59E0B",growth:2.3},{name:"Anchor",value:52307,percentage:10,color:"#10B981",growth:-1.2}]}],x=[{id:"coke",name:"Coca-Cola",category:"Beverages",revenue:125600,frequency:1840,x:200,y:150,color:"#EF4444"},{id:"chips",name:"Lay's Chips",category:"Snacks",revenue:89200,frequency:1650,x:350,y:180,color:"#F59E0B"},{id:"pepsi",name:"Pepsi",category:"Beverages",revenue:98400,frequency:1420,x:180,y:280,color:"#3B82F6"},{id:"pringles",name:"Pringles",category:"Snacks",revenue:76300,frequency:1230,x:380,y:120,color:"#F59E0B"},{id:"shampoo",name:"Head & Shoulders",category:"Personal Care",revenue:64500,frequency:980,x:500,y:200,color:"#8B5CF6"},{id:"conditioner",name:"Pantene Conditioner",category:"Personal Care",revenue:52100,frequency:840,x:520,y:300,color:"#8B5CF6"},{id:"milk",name:"Fresh Milk",category:"Dairy",revenue:78900,frequency:1560,x:100,y:220,color:"#10B981"},{id:"bread",name:"Gardenia Bread",category:"Bakery",revenue:45600,frequency:1340,x:150,y:350,color:"#D97706"}],g=[{source:"coke",target:"chips",strength:.78,frequency:1450,confidence:78.2},{source:"pepsi",target:"chips",strength:.65,frequency:920,confidence:64.8},{source:"shampoo",target:"conditioner",strength:.72,frequency:710,confidence:72.4},{source:"milk",target:"bread",strength:.58,frequency:780,confidence:58.2},{source:"coke",target:"pringles",strength:.45,frequency:630,confidence:45.1},{source:"chips",target:"pringles",strength:.52,frequency:540,confidence:52.3}];function h(e){let{width:t=640,height:s=400,className:i=""}=e,[l,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),d=(0,a.useMemo)(()=>{if(!l)return new Set;let e=new Set([l]);return g.forEach(t=>{t.source===l&&e.add(t.target),t.target===l&&e.add(t.source)}),e},[l]),h=(0,a.useMemo)(()=>l?g.filter(e=>e.source===l||e.target===l):g,[l]),m=e=>{n(l===e?null:e)},u=e=>l?d.has(e)?1:.3:1,v=e=>l?e.source===l||e.target===l?.8:.1:.6;return(0,r.jsxs)("div",{className:"bg-white rounded-lg ".concat(i),children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"SKU Combination Network"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,r.jsx)("span",{children:"Strong Connection (≥70%)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,r.jsx)("span",{children:"Moderate Connection (50-70%)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),(0,r.jsx)("span",{children:"Weak Connection (<50%)"})]})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("svg",{width:t,height:s,className:"border border-gray-100 rounded",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,r.jsx)("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#f3f4f6",strokeWidth:"1"})})}),(0,r.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),h.map((e,t)=>{let s=x.find(t=>t.id===e.source),a=x.find(t=>t.id===e.target);if(!s||!a)return null;let i=e.confidence>=70?"#3B82F6":e.confidence>=50?"#F59E0B":"#9CA3AF";return(0,r.jsxs)("g",{children:[(0,r.jsx)("line",{x1:s.x,y1:s.y,x2:a.x,y2:a.y,stroke:i,strokeWidth:Math.max(2,6*e.strength),opacity:v(e),className:"transition-opacity duration-200"}),(0,r.jsxs)("text",{x:(s.x+a.x)/2,y:(s.y+a.y)/2-5,textAnchor:"middle",className:"text-xs fill-gray-600",opacity:l&&(e.source===l||e.target===l)?1:0,children:[e.confidence.toFixed(1),"%"]})]},t)}),x.map(e=>(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:e.x,cy:e.y,r:Math.max(15,Math.sqrt(e.frequency)/8),fill:e.color,opacity:u(e.id),stroke:l===e.id?"#1F2937":"white",strokeWidth:l===e.id?3:2,className:"cursor-pointer transition-all duration-200 hover:stroke-gray-700",onClick:()=>m(e.id),onMouseEnter:()=>o(e.id),onMouseLeave:()=>o(null)}),(0,r.jsx)("text",{x:e.x,y:e.y+5,textAnchor:"middle",className:"text-xs font-medium fill-white pointer-events-none",opacity:u(e.id),children:e.name.split(" ")[0]})]},e.id))]}),c&&(0,r.jsx)("div",{className:"absolute top-0 left-0 bg-gray-900 text-white p-3 rounded-lg shadow-lg text-sm max-w-xs z-10 pointer-events-none",children:(()=>{let e=x.find(e=>e.id===c);return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:e.name}),(0,r.jsx)("div",{className:"text-gray-300",children:e.category}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("div",{children:["Revenue: ₱",e.revenue.toLocaleString()]}),(0,r.jsxs)("div",{children:["Frequency: ",e.frequency," transactions"]})]})]}):null})()})]}),l&&(0,r.jsx)("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:(()=>{let e=x.find(e=>e.id===l),t=g.filter(e=>e.source===l||e.target===l);return e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-blue-900 mb-3",children:["\uD83D\uDD17 ",e.name," Connections"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Frequently Bought With:"}),(0,r.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>{let s=e.source===l?e.target:e.source,a=x.find(e=>e.id===s);return a?(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{children:a.name}),(0,r.jsxs)("span",{className:"font-medium text-blue-700",children:[e.confidence.toFixed(1),"%"]})]},t):null})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Cross-Sell Opportunities:"}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-blue-700",children:[(0,r.jsx)("div",{children:"• Bundle promotions with top connections"}),(0,r.jsx)("div",{children:"• Recommended products placement"}),(0,r.jsx)("div",{children:"• Loyalty program tie-ins"})]})]})]})]}):null})()}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active SKUs"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:g.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Connections"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(g.reduce((e,t)=>e+t.confidence,0)/g.length).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Avg. Confidence"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.max(...g.map(e=>e.confidence)).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Strongest Link"})]})]})]})]})}let m=[{id:"coke-orig",name:"Coca-Cola",category:"Cola",x:100,y:50,height:80,color:"#DC2626",value:1e3},{id:"pepsi-orig",name:"Pepsi",category:"Cola",x:100,y:150,height:60,color:"#2563EB",value:750},{id:"sprite-orig",name:"Sprite",category:"Lemon-Lime",x:100,y:230,height:40,color:"#16A34A",value:500},{id:"hs-orig",name:"Head & Shoulders",category:"Shampoo",x:100,y:290,height:50,color:"#7C3AED",value:600},{id:"coke-new",name:"Coca-Cola",category:"Cola",x:540,y:80,height:70,color:"#DC2626",value:900},{id:"pepsi-new",name:"Pepsi",category:"Cola",x:540,y:170,height:75,color:"#2563EB",value:850},{id:"sprite-new",name:"Sprite",category:"Lemon-Lime",x:540,y:260,height:35,color:"#16A34A",value:420},{id:"pantene-new",name:"Pantene",category:"Shampoo",x:540,y:310,height:45,color:"#EA580C",value:550}],u=[{source:"coke-orig",target:"coke-new",value:800,switchRate:80,sourceY:0,targetY:0,sourceHeight:64,targetHeight:56},{source:"coke-orig",target:"pepsi-new",value:150,switchRate:15,sourceY:64,targetY:56,sourceHeight:12,targetHeight:13.2},{source:"coke-orig",target:"sprite-new",value:50,switchRate:5,sourceY:76,targetY:69.2,sourceHeight:4,targetHeight:4.2},{source:"pepsi-orig",target:"pepsi-new",value:600,switchRate:80,sourceY:0,targetY:0,sourceHeight:48,targetHeight:52.9},{source:"pepsi-orig",target:"coke-new",value:100,switchRate:13.3,sourceY:48,targetY:52.9,sourceHeight:8,targetHeight:8.8},{source:"pepsi-orig",target:"sprite-new",value:50,switchRate:6.7,sourceY:56,targetY:61.7,sourceHeight:4,targetHeight:4.4},{source:"sprite-orig",target:"sprite-new",value:370,switchRate:74,sourceY:0,targetY:0,sourceHeight:29.6,targetHeight:31},{source:"sprite-orig",target:"coke-new",value:80,switchRate:16,sourceY:29.6,targetY:31,sourceHeight:6.4,targetHeight:7},{source:"sprite-orig",target:"pepsi-new",value:50,switchRate:10,sourceY:36,targetY:38,sourceHeight:4,targetHeight:4.4},{source:"hs-orig",target:"pantene-new",value:350,switchRate:58.3,sourceY:0,targetY:0,sourceHeight:29.2,targetHeight:31.8},{source:"hs-orig",target:"coke-new",value:150,switchRate:25,sourceY:29.2,targetY:31.8,sourceHeight:12.5,targetHeight:13.2},{source:"hs-orig",target:"pepsi-new",value:100,switchRate:16.7,sourceY:41.7,targetY:45,sourceHeight:8.3,targetHeight:8.8}];function v(e){let{width:t=640,height:s=400,className:i=""}=e,[l,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),d=(0,a.useMemo)(()=>u.map(e=>{let t=m.find(t=>t.id===e.source),s=m.find(t=>t.id===e.target);if(!t||!s)return null;let r=t.x+80,a=s.x,i=t.y+e.sourceY+e.sourceHeight/2,l=s.y+e.targetY+e.targetHeight/2,n=(r+a)/2,c="M ".concat(r," ").concat(i," C ").concat(n," ").concat(i," ").concat(n," ").concat(l," ").concat(a," ").concat(l);return{...e,path:c,sourceX:r,targetX:a,sourceY:i,targetY:l,id:"".concat(e.source,"-").concat(e.target)}}).filter(Boolean),[]),x=e=>e>=70?"#10B981":e>=50?"#F59E0B":"#EF4444",g=e=>l?l===e?1:.2:.7;return(0,r.jsxs)("div",{className:"bg-white rounded-lg ".concat(i),children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Substitution Flow"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),(0,r.jsx)("span",{children:"High Retention (≥70%)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-2"}),(0,r.jsx)("span",{children:"Medium Retention (50-70%)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),(0,r.jsx)("span",{children:"High Switching (<50%)"})]})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("svg",{width:t,height:s,className:"border border-gray-100 rounded",children:[(0,r.jsx)("text",{x:140,y:30,textAnchor:"middle",className:"text-sm font-medium fill-gray-700",children:"Original Choice"}),(0,r.jsx)("text",{x:500,y:30,textAnchor:"middle",className:"text-sm font-medium fill-gray-700",children:"Actual Purchase"}),d.map((e,t)=>e?(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:e.path,fill:"none",stroke:x(e.switchRate),strokeWidth:Math.max(2,e.value/50),opacity:g(e.id),className:"cursor-pointer transition-opacity duration-200",onClick:()=>n(l===e.id?null:e.id)}),(l===e.id||!l)&&(0,r.jsxs)("text",{x:(e.sourceX+e.targetX)/2,y:(e.sourceY+e.targetY)/2-5,textAnchor:"middle",className:"text-xs fill-gray-700 font-medium",opacity:l===e.id?1:.6,children:[e.value," (",e.switchRate.toFixed(1),"%)"]})]},e.id):null),m.map(e=>(0,r.jsxs)("g",{children:[(0,r.jsx)("rect",{x:e.x,y:e.y,width:80,height:e.height,fill:e.color,opacity:c===e.id?1:.8,rx:4,className:"cursor-pointer transition-opacity duration-200",onMouseEnter:()=>o(e.id),onMouseLeave:()=>o(null)}),(0,r.jsx)("text",{x:e.x+40,y:e.y+e.height/2,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium fill-white pointer-events-none",children:e.name}),(0,r.jsx)("text",{x:e.x+40,y:e.y+e.height/2+12,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs fill-white opacity-75 pointer-events-none",children:e.value})]},e.id))]}),c&&(0,r.jsx)("div",{className:"absolute top-0 left-0 bg-gray-900 text-white p-3 rounded-lg shadow-lg text-sm max-w-xs z-10 pointer-events-none",children:(()=>{let e=m.find(e=>e.id===c);return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:e.name}),(0,r.jsx)("div",{className:"text-gray-300",children:e.category}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("div",{children:["Volume: ",e.value," customers"]})})]}):null})()})]}),l&&(0,r.jsx)("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:(()=>{let e=u.find(e=>"".concat(e.source,"-").concat(e.target)===l),t=m.find(t=>t.id===(null==e?void 0:e.source)),s=m.find(t=>t.id===(null==e?void 0:e.target));return e&&t&&s?(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-blue-900 mb-3",children:["\uD83D\uDD04 ",t.name," → ",s.name]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:e.value}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"Customers"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-900",children:[e.switchRate.toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"Switch Rate"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold ".concat(e.switchRate>=70?"text-green-600":e.switchRate>=50?"text-yellow-600":"text-red-600"),children:e.switchRate>=70?"High":e.switchRate>=50?"Medium":"Low"}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"Retention"})]})]})]}):null})()}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-900 mb-3",children:"\uD83D\uDEA8 High Switch Risk"}),(0,r.jsx)("div",{className:"space-y-2 text-sm",children:u.filter(e=>e.switchRate<50&&e.source!==e.target).slice(0,3).map((e,t)=>{let s=m.find(t=>t.id===e.source),a=m.find(t=>t.id===e.target);return(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[null==s?void 0:s.name," → ",null==a?void 0:a.name]}),(0,r.jsxs)("span",{className:"font-medium text-red-700",children:[e.switchRate.toFixed(1),"%"]})]},t)})})]}),(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"\uD83D\uDCA1 Retention Strategies"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-green-800",children:[(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Loyalty rewards"})," for high-switch products"]}),(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Price optimization"})," based on substitution patterns"]}),(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Cross-category bundles"})," to increase stickiness"]}),(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Targeted promotions"})," for at-risk customers"]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:u.reduce((e,t)=>e+t.value,0).toLocaleString()}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Customers"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(u.reduce((e,t)=>e+t.switchRate,0)/u.length).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Avg. Retention"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:u.filter(e=>e.switchRate<70).length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Risk Products"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.max(...u.map(e=>e.switchRate)).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Best Retention"})]})]})]})]})}var p=!0;function y(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.h,{onSearch:e=>console.log("Search:",e),onClearAll:()=>console.log("Clear all filters"),hasActiveFilters:!0}),(0,r.jsx)(n.ZP,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDDFA Product Mix & SKU Dynamics"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Category performance and substitution analysis"})]}),(0,r.jsx)(l.Dw,{onDateChange:e=>console.log("Date range changed:",e)})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(c.ZP,{title:"Category & Brand Market Share",subtitle:"Interactive treemap of basket composition",icon:c.bJ.products.icon,badge:"Treemap",defaultExpanded:!0,children:(0,r.jsx)(o,{data:d})}),(0,r.jsx)(c.ZP,{title:"Top Categories Performance",subtitle:"Revenue and volume by product category",icon:"\uD83D\uDCCA",badge:"Bar Chart",defaultExpanded:!0,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:(0,r.jsx)("div",{className:"h-80 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category Revenue Chart"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Top 10 categories by revenue contribution"}),(0,r.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:"Features: Sortable, filterable, growth indicators"})]})})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,r.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Category Performance Summary"}),(0,r.jsx)("div",{className:"space-y-3",children:[{category:"Beverages",revenue:"₱1,245,600",share:"32.4%",growth:"+5.2%",color:"bg-blue-500"},{category:"Snacks",revenue:"₱892,340",share:"23.2%",growth:"+12.4%",color:"bg-green-500"},{category:"Personal Care",revenue:"₱645,780",share:"16.8%",growth:"+4.1%",color:"bg-purple-500"},{category:"Household",revenue:"₱534,210",share:"13.9%",growth:"+6.2%",color:"bg-orange-500"},{category:"Dairy",revenue:"₱523,070",share:"13.6%",growth:"+8.1%",color:"bg-pink-500"}].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 ".concat(e.color," rounded-full mr-3")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.category}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.share," market share"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-semibold text-gray-900",children:e.revenue}),(0,r.jsx)("div",{className:"text-sm text-green-600",children:e.growth})]})]},t))})]})]})}),(0,r.jsx)(c.ZP,{title:"Frequently Bought Together",subtitle:"SKU combination analysis and cross-selling opportunities",icon:"\uD83D\uDD17",badge:"Network",defaultExpanded:!0,children:(0,r.jsx)(h,{})}),(0,r.jsx)(c.ZP,{title:"Product Substitution Analysis",subtitle:"Sankey diagram of product switching patterns",icon:"\uD83D\uDD04",badge:"Sankey",defaultExpanded:!0,children:(0,r.jsx)(v,{})}),(0,r.jsx)(c.ZP,{title:"Average Basket Size Distribution",subtitle:"Transaction value and item count analysis",icon:"\uD83D\uDED2",badge:"Histogram",defaultExpanded:!1,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:(0,r.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDCCA"}),(0,r.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Basket Value Distribution"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Histogram of transaction values"})]})})}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:(0,r.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDD22"}),(0,r.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Items per Basket"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Distribution of item counts"})]})})})]})})]}),(0,r.jsx)("div",{className:"mt-12 py-8 border-t border-gray-200",children:(0,r.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,r.jsx)("p",{children:"Product Mix & SKU Dynamics - Scout Analytics v2.0"})})})]})]})}}},function(e){e.O(0,[424,130,598,888,774,179],function(){return e(e.s=7153)}),_N_E=e.O()}]);