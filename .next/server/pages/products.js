"use strict";(()=>{var e={};e.id=345,e.ids=[345,660],e.modules={6810:(e,t,s)=>{s.r(t),s.d(t,{config:()=>B,default:()=>S,getServerSideProps:()=>A,getStaticPaths:()=>P,getStaticProps:()=>k,reportWebVitals:()=>F,routeModule:()=>Y,unstable_getServerProps:()=>M,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>E,unstable_getStaticPaths:()=>R,unstable_getStaticProps:()=>H});var r={};s.r(r),s.d(r,{default:()=>C,getStaticProps:()=>D});var a=s(7093),i=s(5244),l=s(1323),n=s(2899),c=s.n(n),o=s(6814),d=s(997),x=s(6689),g=s(5250),h=s(3877),m=s(9674),u=s(2394);function p({data:e,className:t="",height:s=400}){let[r,a]=(0,x.useState)(null),[i,l]=(0,x.useState)(null),n=e.reduce((e,t)=>e+t.totalValue,0),c=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),o=e=>e.totalValue/n*100,g=(e,t)=>e.value/t*100,h=e=>e?e>5?"\uD83D\uDE80":e>0?"\uD83D\uDCC8":e<-5?"\uD83D\uDCC9":"➡️":"",m=e=>e?e>0?"text-green-600":e<0?"text-red-600":"text-gray-600":"text-gray-500";return(0,d.jsxs)("div",{className:`basket-share-treemap bg-white rounded-lg p-6 ${t}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basket Share Analysis"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Category → Brand distribution"})]}),r&&d.jsx("button",{onClick:()=>a(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"← View All Categories"})]}),d.jsx("div",{className:"treemap-container mb-6",style:{height:s},children:r?d.jsx("div",{className:"h-full",children:(()=>{let t=e.find(e=>e.category===r);return t?(0,d.jsxs)("div",{className:"h-full",children:[(0,d.jsxs)("div",{className:"text-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:r}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[c(t.totalValue)," • ",t.percentage.toFixed(1),"% of total"]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 h-5/6",children:t.brands.map((e,s)=>{let a=i?.category===r&&i?.brand===e.name;return(0,d.jsxs)("div",{className:`
                            relative p-4 rounded-lg cursor-pointer transition-all duration-300 transform
                            ${a?"scale-105 shadow-lg":"hover:scale-102 hover:shadow-md"}
                          `,style:{backgroundColor:e.color,minHeight:`${Math.max(2*g(e,t.totalValue),80)}px`},onMouseEnter:()=>l({category:r,brand:e.name}),onMouseLeave:()=>l(null),children:[(0,d.jsxs)("div",{className:"text-white",children:[d.jsx("div",{className:"font-semibold text-sm mb-1 line-clamp-2",children:e.name}),(0,d.jsxs)("div",{className:"text-xs opacity-90",children:[e.percentage.toFixed(1),"%"]}),d.jsx("div",{className:"text-xs opacity-75",children:c(e.value)}),void 0!==e.growth&&d.jsx("div",{className:"mt-1 text-xs",children:(0,d.jsxs)("span",{className:m(e.growth),children:[h(e.growth)," ",e.growth>0?"+":"",e.growth.toFixed(1),"%"]})})]}),a&&(0,d.jsxs)("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:[d.jsx("div",{className:"font-semibold",children:e.name}),(0,d.jsxs)("div",{children:[c(e.value)," (",e.percentage.toFixed(1),"%)"]}),void 0!==e.growth&&(0,d.jsxs)("div",{children:[e.growth>0?"+":"",e.growth.toFixed(1),"% growth"]})]})]},s)})})]}):null})()}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 h-full",children:e.map((e,t)=>{let s=i?.category===e.category,r=o(e);return(0,d.jsxs)("div",{className:`
                    relative p-4 rounded-lg cursor-pointer transition-all duration-300 transform
                    bg-gradient-to-br from-blue-500 to-blue-600 text-white
                    ${s?"scale-105 shadow-lg from-blue-600 to-blue-700":"hover:scale-102 hover:shadow-md"}
                  `,style:{minHeight:`${Math.max(3*r,120)}px`},onClick:()=>a(e.category),onMouseEnter:()=>l({category:e.category}),onMouseLeave:()=>l(null),children:[(0,d.jsxs)("div",{children:[d.jsx("div",{className:"font-semibold text-lg mb-2",children:e.category}),(0,d.jsxs)("div",{className:"text-sm opacity-90 mb-1",children:[e.percentage.toFixed(1),"% of basket"]}),d.jsx("div",{className:"text-sm opacity-75 mb-2",children:c(e.totalValue)}),(0,d.jsxs)("div",{className:"text-xs opacity-75",children:[e.brands.length," brands"]})]}),(0,d.jsxs)("div",{className:"absolute bottom-3 right-3 flex flex-wrap gap-1",children:[e.brands.slice(0,6).map((e,t)=>d.jsx("div",{className:"w-2 h-2 rounded-full bg-white opacity-60",title:e.name},t)),e.brands.length>6&&(0,d.jsxs)("div",{className:"text-xs opacity-60",children:["+",e.brands.length-6]})]}),d.jsx("div",{className:"absolute top-3 right-3 text-xs opacity-60",children:"\uD83D\uDD0D"}),s&&(0,d.jsxs)("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:["Click to explore ",e.brands.length," brands"]})]},t)})})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.reduce((e,t)=>e+t.brands.length,0)}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Brands"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:c(n)}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:e[0]?e[0].category:"N/A"}),d.jsx("div",{className:"text-sm text-gray-600",children:"Top Category"})]})]}),d.jsx("div",{className:"text-center text-xs text-gray-500",children:"\uD83D\uDCA1 Click on categories to explore brands • Hover for details • Size represents market share"})]})}let v=[{category:"Beverages",totalValue:1245600,percentage:32.4,brands:[{name:"Coca-Cola",value:485672,percentage:39,color:"#DC2626",growth:5.2},{name:"Pepsi",value:312450,percentage:25.1,color:"#2563EB",growth:-2.1},{name:"Sprite",value:198543,percentage:15.9,color:"#16A34A",growth:8.7},{name:"RC Cola",value:134567,percentage:10.8,color:"#7C2D12",growth:1.3},{name:"Royal",value:114368,percentage:9.2,color:"#7C3AED",growth:-.5}]},{category:"Snacks",totalValue:892340,percentage:23.2,brands:[{name:"Lay's",value:267891,percentage:30,color:"#EAB308",growth:12.4},{name:"Pringles",value:178456,percentage:20,color:"#DC2626",growth:6.8},{name:"Chippy",value:142674,percentage:16,color:"#F97316",growth:3.2},{name:"Nova",value:125234,percentage:14,color:"#8B5CF6",growth:-1.4},{name:"Piatos",value:89234,percentage:10,color:"#06B6D4",growth:4.7},{name:"Oishi",value:88851,percentage:10,color:"#84CC16",growth:2.1}]},{category:"Personal Care",totalValue:645780,percentage:16.8,brands:[{name:"Colgate",value:193734,percentage:30,color:"#DC2626",growth:4.1},{name:"Head & Shoulders",value:161445,percentage:25,color:"#2563EB",growth:7.3},{name:"Palmolive",value:129156,percentage:20,color:"#16A34A",growth:-.8},{name:"Close-Up",value:97167,percentage:15,color:"#7C3AED",growth:2.9},{name:"Safeguard",value:64578,percentage:10,color:"#F97316",growth:1.7}]},{category:"Household",totalValue:534210,percentage:13.9,brands:[{name:"Tide",value:160263,percentage:30,color:"#F97316",growth:6.2},{name:"Joy",value:133553,percentage:25,color:"#16A34A",growth:3.4},{name:"Surf",value:106842,percentage:20,color:"#2563EB",growth:1.8},{name:"Ariel",value:80132,percentage:15,color:"#7C2D12",growth:-2.3},{name:"Downy",value:53421,percentage:10,color:"#8B5CF6",growth:4.9}]},{category:"Dairy",totalValue:523070,percentage:13.6,brands:[{name:"Nestle",value:209228,percentage:40,color:"#DC2626",growth:8.1},{name:"Alaska",value:156922,percentage:30,color:"#2563EB",growth:5.7},{name:"Bear Brand",value:104614,percentage:20,color:"#F59E0B",growth:2.3},{name:"Anchor",value:52307,percentage:10,color:"#10B981",growth:-1.2}]}],y=[{id:"coke",name:"Coca-Cola",category:"Beverages",revenue:125600,frequency:1840,x:200,y:150,color:"#EF4444"},{id:"chips",name:"Lay's Chips",category:"Snacks",revenue:89200,frequency:1650,x:350,y:180,color:"#F59E0B"},{id:"pepsi",name:"Pepsi",category:"Beverages",revenue:98400,frequency:1420,x:180,y:280,color:"#3B82F6"},{id:"pringles",name:"Pringles",category:"Snacks",revenue:76300,frequency:1230,x:380,y:120,color:"#F59E0B"},{id:"shampoo",name:"Head & Shoulders",category:"Personal Care",revenue:64500,frequency:980,x:500,y:200,color:"#8B5CF6"},{id:"conditioner",name:"Pantene Conditioner",category:"Personal Care",revenue:52100,frequency:840,x:520,y:300,color:"#8B5CF6"},{id:"milk",name:"Fresh Milk",category:"Dairy",revenue:78900,frequency:1560,x:100,y:220,color:"#10B981"},{id:"bread",name:"Gardenia Bread",category:"Bakery",revenue:45600,frequency:1340,x:150,y:350,color:"#D97706"}],j=[{source:"coke",target:"chips",strength:.78,frequency:1450,confidence:78.2},{source:"pepsi",target:"chips",strength:.65,frequency:920,confidence:64.8},{source:"shampoo",target:"conditioner",strength:.72,frequency:710,confidence:72.4},{source:"milk",target:"bread",strength:.58,frequency:780,confidence:58.2},{source:"coke",target:"pringles",strength:.45,frequency:630,confidence:45.1},{source:"chips",target:"pringles",strength:.52,frequency:540,confidence:52.3}];function b({width:e=640,height:t=400,className:s=""}){let[r,a]=(0,x.useState)(null),[i,l]=(0,x.useState)(null),n=(0,x.useMemo)(()=>{if(!r)return new Set;let e=new Set([r]);return j.forEach(t=>{t.source===r&&e.add(t.target),t.target===r&&e.add(t.source)}),e},[r]),c=(0,x.useMemo)(()=>r?j.filter(e=>e.source===r||e.target===r):j,[r]),o=e=>{a(r===e?null:e)},g=e=>r?n.has(e)?1:.3:1,h=e=>r?e.source===r||e.target===r?.8:.1:.6;return(0,d.jsxs)("div",{className:`bg-white rounded-lg ${s}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SKU Combination Network"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),d.jsx("span",{children:"Strong Connection (≥70%)"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),d.jsx("span",{children:"Moderate Connection (50-70%)"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),d.jsx("span",{children:"Weak Connection (<50%)"})]})]})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("svg",{width:e,height:t,className:"border border-gray-100 rounded",children:[d.jsx("defs",{children:d.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#f3f4f6",strokeWidth:"1"})})}),d.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),c.map((e,t)=>{let s=y.find(t=>t.id===e.source),a=y.find(t=>t.id===e.target);if(!s||!a)return null;let i=e.confidence>=70?"#3B82F6":e.confidence>=50?"#F59E0B":"#9CA3AF";return(0,d.jsxs)("g",{children:[d.jsx("line",{x1:s.x,y1:s.y,x2:a.x,y2:a.y,stroke:i,strokeWidth:Math.max(2,6*e.strength),opacity:h(e),className:"transition-opacity duration-200"}),(0,d.jsxs)("text",{x:(s.x+a.x)/2,y:(s.y+a.y)/2-5,textAnchor:"middle",className:"text-xs fill-gray-600",opacity:r&&(e.source===r||e.target===r)?1:0,children:[e.confidence.toFixed(1),"%"]})]},t)}),y.map(e=>(0,d.jsxs)("g",{children:[d.jsx("circle",{cx:e.x,cy:e.y,r:Math.max(15,Math.sqrt(e.frequency)/8),fill:e.color,opacity:g(e.id),stroke:r===e.id?"#1F2937":"white",strokeWidth:r===e.id?3:2,className:"cursor-pointer transition-all duration-200 hover:stroke-gray-700",onClick:()=>o(e.id),onMouseEnter:()=>l(e.id),onMouseLeave:()=>l(null)}),d.jsx("text",{x:e.x,y:e.y+5,textAnchor:"middle",className:"text-xs font-medium fill-white pointer-events-none",opacity:g(e.id),children:e.name.split(" ")[0]})]},e.id))]}),i&&d.jsx("div",{className:"absolute top-0 left-0 bg-gray-900 text-white p-3 rounded-lg shadow-lg text-sm max-w-xs z-10 pointer-events-none",children:(()=>{let e=y.find(e=>e.id===i);return e?(0,d.jsxs)("div",{children:[d.jsx("div",{className:"font-semibold",children:e.name}),d.jsx("div",{className:"text-gray-300",children:e.category}),(0,d.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,d.jsxs)("div",{children:["Revenue: ₱",e.revenue.toLocaleString()]}),(0,d.jsxs)("div",{children:["Frequency: ",e.frequency," transactions"]})]})]}):null})()})]}),r&&d.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:(()=>{let e=y.find(e=>e.id===r),t=j.filter(e=>e.source===r||e.target===r);return e?(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-blue-900 mb-3",children:["\uD83D\uDD17 ",e.name," Connections"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[d.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Frequently Bought With:"}),d.jsx("div",{className:"space-y-2",children:t.map((e,t)=>{let s=e.source===r?e.target:e.source,a=y.find(e=>e.id===s);return a?(0,d.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{children:a.name}),(0,d.jsxs)("span",{className:"font-medium text-blue-700",children:[e.confidence.toFixed(1),"%"]})]},t):null})})]}),(0,d.jsxs)("div",{children:[d.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Cross-Sell Opportunities:"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-blue-700",children:[d.jsx("div",{children:"• Bundle promotions with top connections"}),d.jsx("div",{children:"• Recommended products placement"}),d.jsx("div",{children:"• Loyalty program tie-ins"})]})]})]})]}):null})()}),(0,d.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Active SKUs"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Connections"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(j.reduce((e,t)=>e+t.confidence,0)/j.length).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Confidence"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.max(...j.map(e=>e.confidence)).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Strongest Link"})]})]})]})]})}let f=[{id:"coke-orig",name:"Coca-Cola",category:"Cola",x:100,y:50,height:80,color:"#DC2626",value:1e3},{id:"pepsi-orig",name:"Pepsi",category:"Cola",x:100,y:150,height:60,color:"#2563EB",value:750},{id:"sprite-orig",name:"Sprite",category:"Lemon-Lime",x:100,y:230,height:40,color:"#16A34A",value:500},{id:"hs-orig",name:"Head & Shoulders",category:"Shampoo",x:100,y:290,height:50,color:"#7C3AED",value:600},{id:"coke-new",name:"Coca-Cola",category:"Cola",x:540,y:80,height:70,color:"#DC2626",value:900},{id:"pepsi-new",name:"Pepsi",category:"Cola",x:540,y:170,height:75,color:"#2563EB",value:850},{id:"sprite-new",name:"Sprite",category:"Lemon-Lime",x:540,y:260,height:35,color:"#16A34A",value:420},{id:"pantene-new",name:"Pantene",category:"Shampoo",x:540,y:310,height:45,color:"#EA580C",value:550}],N=[{source:"coke-orig",target:"coke-new",value:800,switchRate:80,sourceY:0,targetY:0,sourceHeight:64,targetHeight:56},{source:"coke-orig",target:"pepsi-new",value:150,switchRate:15,sourceY:64,targetY:56,sourceHeight:12,targetHeight:13.2},{source:"coke-orig",target:"sprite-new",value:50,switchRate:5,sourceY:76,targetY:69.2,sourceHeight:4,targetHeight:4.2},{source:"pepsi-orig",target:"pepsi-new",value:600,switchRate:80,sourceY:0,targetY:0,sourceHeight:48,targetHeight:52.9},{source:"pepsi-orig",target:"coke-new",value:100,switchRate:13.3,sourceY:48,targetY:52.9,sourceHeight:8,targetHeight:8.8},{source:"pepsi-orig",target:"sprite-new",value:50,switchRate:6.7,sourceY:56,targetY:61.7,sourceHeight:4,targetHeight:4.4},{source:"sprite-orig",target:"sprite-new",value:370,switchRate:74,sourceY:0,targetY:0,sourceHeight:29.6,targetHeight:31},{source:"sprite-orig",target:"coke-new",value:80,switchRate:16,sourceY:29.6,targetY:31,sourceHeight:6.4,targetHeight:7},{source:"sprite-orig",target:"pepsi-new",value:50,switchRate:10,sourceY:36,targetY:38,sourceHeight:4,targetHeight:4.4},{source:"hs-orig",target:"pantene-new",value:350,switchRate:58.3,sourceY:0,targetY:0,sourceHeight:29.2,targetHeight:31.8},{source:"hs-orig",target:"coke-new",value:150,switchRate:25,sourceY:29.2,targetY:31.8,sourceHeight:12.5,targetHeight:13.2},{source:"hs-orig",target:"pepsi-new",value:100,switchRate:16.7,sourceY:41.7,targetY:45,sourceHeight:8.3,targetHeight:8.8}];function w({width:e=640,height:t=400,className:s=""}){let[r,a]=(0,x.useState)(null),[i,l]=(0,x.useState)(null),n=(0,x.useMemo)(()=>N.map(e=>{let t=f.find(t=>t.id===e.source),s=f.find(t=>t.id===e.target);if(!t||!s)return null;let r=t.x+80,a=s.x,i=t.y+e.sourceY+e.sourceHeight/2,l=s.y+e.targetY+e.targetHeight/2,n=(r+a)/2,c=`M ${r} ${i} C ${n} ${i} ${n} ${l} ${a} ${l}`;return{...e,path:c,sourceX:r,targetX:a,sourceY:i,targetY:l,id:`${e.source}-${e.target}`}}).filter(Boolean),[]),c=e=>e>=70?"#10B981":e>=50?"#F59E0B":"#EF4444",o=e=>r?r===e?1:.2:.7;return(0,d.jsxs)("div",{className:`bg-white rounded-lg ${s}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Substitution Flow"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),d.jsx("span",{children:"High Retention (≥70%)"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-2"}),d.jsx("span",{children:"Medium Retention (50-70%)"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),d.jsx("span",{children:"High Switching (<50%)"})]})]})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("svg",{width:e,height:t,className:"border border-gray-100 rounded",children:[d.jsx("text",{x:140,y:30,textAnchor:"middle",className:"text-sm font-medium fill-gray-700",children:"Original Choice"}),d.jsx("text",{x:500,y:30,textAnchor:"middle",className:"text-sm font-medium fill-gray-700",children:"Actual Purchase"}),n.map((e,t)=>e?(0,d.jsxs)("g",{children:[d.jsx("path",{d:e.path,fill:"none",stroke:c(e.switchRate),strokeWidth:Math.max(2,e.value/50),opacity:o(e.id),className:"cursor-pointer transition-opacity duration-200",onClick:()=>a(r===e.id?null:e.id)}),(r===e.id||!r)&&(0,d.jsxs)("text",{x:(e.sourceX+e.targetX)/2,y:(e.sourceY+e.targetY)/2-5,textAnchor:"middle",className:"text-xs fill-gray-700 font-medium",opacity:r===e.id?1:.6,children:[e.value," (",e.switchRate.toFixed(1),"%)"]})]},e.id):null),f.map(e=>(0,d.jsxs)("g",{children:[d.jsx("rect",{x:e.x,y:e.y,width:80,height:e.height,fill:e.color,opacity:i===e.id?1:.8,rx:4,className:"cursor-pointer transition-opacity duration-200",onMouseEnter:()=>l(e.id),onMouseLeave:()=>l(null)}),d.jsx("text",{x:e.x+40,y:e.y+e.height/2,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium fill-white pointer-events-none",children:e.name}),d.jsx("text",{x:e.x+40,y:e.y+e.height/2+12,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs fill-white opacity-75 pointer-events-none",children:e.value})]},e.id))]}),i&&d.jsx("div",{className:"absolute top-0 left-0 bg-gray-900 text-white p-3 rounded-lg shadow-lg text-sm max-w-xs z-10 pointer-events-none",children:(()=>{let e=f.find(e=>e.id===i);return e?(0,d.jsxs)("div",{children:[d.jsx("div",{className:"font-semibold",children:e.name}),d.jsx("div",{className:"text-gray-300",children:e.category}),d.jsx("div",{className:"mt-2",children:(0,d.jsxs)("div",{children:["Volume: ",e.value," customers"]})})]}):null})()})]}),r&&d.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:(()=>{let e=N.find(e=>`${e.source}-${e.target}`===r),t=f.find(t=>t.id===e?.source),s=f.find(t=>t.id===e?.target);return e&&t&&s?(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-blue-900 mb-3",children:["\uD83D\uDD04 ",t.name," → ",s.name]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.value}),d.jsx("div",{className:"text-sm text-blue-700",children:"Customers"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-blue-900",children:[e.switchRate.toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-blue-700",children:"Switch Rate"})]}),(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:`text-2xl font-bold ${e.switchRate>=70?"text-green-600":e.switchRate>=50?"text-yellow-600":"text-red-600"}`,children:e.switchRate>=70?"High":e.switchRate>=50?"Medium":"Low"}),d.jsx("div",{className:"text-sm text-blue-700",children:"Retention"})]})]})]}):null})()}),(0,d.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-red-900 mb-3",children:"\uD83D\uDEA8 High Switch Risk"}),d.jsx("div",{className:"space-y-2 text-sm",children:N.filter(e=>e.switchRate<50&&e.source!==e.target).slice(0,3).map((e,t)=>{let s=f.find(t=>t.id===e.source),r=f.find(t=>t.id===e.target);return(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{children:[s?.name," → ",r?.name]}),(0,d.jsxs)("span",{className:"font-medium text-red-700",children:[e.switchRate.toFixed(1),"%"]})]},t)})})]}),(0,d.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"\uD83D\uDCA1 Retention Strategies"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-green-800",children:[(0,d.jsxs)("div",{children:["• ",d.jsx("strong",{children:"Loyalty rewards"})," for high-switch products"]}),(0,d.jsxs)("div",{children:["• ",d.jsx("strong",{children:"Price optimization"})," based on substitution patterns"]}),(0,d.jsxs)("div",{children:["• ",d.jsx("strong",{children:"Cross-category bundles"})," to increase stickiness"]}),(0,d.jsxs)("div",{children:["• ",d.jsx("strong",{children:"Targeted promotions"})," for at-risk customers"]})]})]})]}),(0,d.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.reduce((e,t)=>e+t.value,0).toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(N.reduce((e,t)=>e+t.switchRate,0)/N.length).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Retention"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.filter(e=>e.switchRate<70).length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Risk Products"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.max(...N.map(e=>e.switchRate)).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Retention"})]})]})]})]})}function C(){return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(g.h,{onSearch:e=>console.log("Search:",e),onClearAll:()=>console.log("Clear all filters"),hasActiveFilters:!0}),d.jsx(m.ZP,{}),(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,d.jsxs)("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDDFA Product Mix & SKU Dynamics"}),d.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Category performance and substitution analysis"})]}),d.jsx(h.Dw,{onDateChange:e=>console.log("Date range changed:",e)})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[d.jsx(u.ZP,{title:"Category & Brand Market Share",subtitle:"Interactive treemap of basket composition",icon:u.bJ.products.icon,badge:"Treemap",defaultExpanded:!0,children:d.jsx(p,{data:v})}),d.jsx(u.ZP,{title:"Top Categories Performance",subtitle:"Revenue and volume by product category",icon:"\uD83D\uDCCA",badge:"Bar Chart",defaultExpanded:!0,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:d.jsx("div",{className:"h-80 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category Revenue Chart"}),d.jsx("p",{className:"text-gray-600",children:"Top 10 categories by revenue contribution"}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Features: Sortable, filterable, growth indicators"})]})})}),(0,d.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Category Performance Summary"}),d.jsx("div",{className:"space-y-3",children:[{category:"Beverages",revenue:"₱1,245,600",share:"32.4%",growth:"+5.2%",color:"bg-blue-500"},{category:"Snacks",revenue:"₱892,340",share:"23.2%",growth:"+12.4%",color:"bg-green-500"},{category:"Personal Care",revenue:"₱645,780",share:"16.8%",growth:"+4.1%",color:"bg-purple-500"},{category:"Household",revenue:"₱534,210",share:"13.9%",growth:"+6.2%",color:"bg-orange-500"},{category:"Dairy",revenue:"₱523,070",share:"13.6%",growth:"+8.1%",color:"bg-pink-500"}].map((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-3 h-3 ${e.color} rounded-full mr-3`}),(0,d.jsxs)("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:e.category}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[e.share," market share"]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:e.revenue}),d.jsx("div",{className:"text-sm text-green-600",children:e.growth})]})]},t))})]})]})}),d.jsx(u.ZP,{title:"Frequently Bought Together",subtitle:"SKU combination analysis and cross-selling opportunities",icon:"\uD83D\uDD17",badge:"Network",defaultExpanded:!0,children:d.jsx(b,{})}),d.jsx(u.ZP,{title:"Product Substitution Analysis",subtitle:"Sankey diagram of product switching patterns",icon:"\uD83D\uDD04",badge:"Sankey",defaultExpanded:!0,children:d.jsx(w,{})}),d.jsx(u.ZP,{title:"Average Basket Size Distribution",subtitle:"Transaction value and item count analysis",icon:"\uD83D\uDED2",badge:"Histogram",defaultExpanded:!1,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:d.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDCCA"}),d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Basket Value Distribution"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Histogram of transaction values"})]})})}),d.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:d.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDD22"}),d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Items per Basket"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Distribution of item counts"})]})})})]})})]}),d.jsx("div",{className:"mt-12 py-8 border-t border-gray-200",children:d.jsx("div",{className:"text-center text-sm text-gray-500",children:d.jsx("p",{children:"Product Mix & SKU Dynamics - Scout Analytics v2.0"})})})]})]})}async function D(){return{props:{title:"Product Mix & SKU Dynamics - Scout Analytics",description:"Category performance and substitution analysis for retail intelligence"},revalidate:60}}let S=(0,l.l)(r,"default"),k=(0,l.l)(r,"getStaticProps"),P=(0,l.l)(r,"getStaticPaths"),A=(0,l.l)(r,"getServerSideProps"),B=(0,l.l)(r,"config"),F=(0,l.l)(r,"reportWebVitals"),H=(0,l.l)(r,"unstable_getStaticProps"),R=(0,l.l)(r,"unstable_getStaticPaths"),E=(0,l.l)(r,"unstable_getStaticParams"),M=(0,l.l)(r,"unstable_getServerProps"),q=(0,l.l)(r,"unstable_getServerSideProps"),Y=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/products",pathname:"/products",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:r})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[899,910,809,844],()=>s(6810));module.exports=r})();