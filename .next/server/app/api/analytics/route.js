(()=>{var e={};e.id=567,e.ids=[567],e.modules={7495:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7495,e.exports=t},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},6068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>_,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var r={};n.r(r),n.d(r,{GET:()=>m,POST:()=>p});var o=n(9303),i=n(8716),a=n(670),s=n(7070);(0,n(785).createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL||"https://your-project.supabase.co",process.env.SUPABASE_SERVICE_KEY||process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"your-key");let c={emotional_patterns:[{emotion:"excitement",context:"purchase",intensity:.78,timeframe:"peak_hours",triggers:["new_product","discount_offer","social_proof"],brandAssociations:["oishi","coca-cola","pringles"]},{emotion:"trust",context:"decision",intensity:.85,timeframe:"consistent",triggers:["family_health","brand_heritage","quality_assurance"],brandAssociations:["alaska","nestle","delmonte"]},{emotion:"comfort",context:"consumption",intensity:.72,timeframe:"evening",triggers:["familiar_taste","stress_relief","routine_comfort"],brandAssociations:["alaska","nestle","spam"]}],emotional_correlations:[{emotion1:"trust",emotion2:"satisfaction",correlation:.89,strength:"strong",context:"repeat_purchase"},{emotion1:"excitement",emotion2:"social_sharing",correlation:.76,strength:"moderate",context:"new_product_trial"},{emotion1:"comfort",emotion2:"loyalty",correlation:.82,strength:"strong",context:"brand_attachment"}]},l=[{id:"bundle_001",name:"Family Breakfast Bundle",brands:["alaska","delmonte","spam"],promotionType:"cross_category",targetDemographics:["families_with_children","working_parents"],expectedUplift:{revenue:.23,volume:.18,frequency:.15},confidence:.87,implementation:{placement:"end_cap_display",timing:"morning_hours",duration:"4_weeks"},reasoning:{emotional:["family_bonding","nutrition_care","convenience"],behavioral:["routine_shopping","basket_optimization","time_saving"],contextual:["breakfast_occasion","family_meal","weekday_rush"]}},{id:"bundle_002",name:"Snack Attack Combo",brands:["oishi","coca-cola","pringles"],promotionType:"impulse_purchase",targetDemographics:["gen_z","students","young_professionals"],expectedUplift:{revenue:.31,volume:.28,frequency:.22},confidence:.82,implementation:{placement:"checkout_counter",timing:"afternoon_evening",duration:"6_weeks"},reasoning:{emotional:["social_sharing","fun_experience","taste_adventure"],behavioral:["impulse_buying","peer_influence","occasion_pairing"],contextual:["social_gathering","study_break","leisure_time"]}},{id:"bundle_003",name:"Health Conscious Choice",brands:["alaska","delmonte","nestle"],promotionType:"value_bundle",targetDemographics:["health_conscious","millennials","fitness_enthusiasts"],expectedUplift:{revenue:.19,volume:.16,frequency:.21},confidence:.91,implementation:{placement:"health_section",timing:"all_day",duration:"8_weeks"},reasoning:{emotional:["health_confidence","self_care","goal_achievement"],behavioral:["conscious_choice","label_reading","premium_seeking"],contextual:["wellness_trend","lifestyle_alignment","quality_focus"]}}];function u(e,t){let n=l.find(t=>t.id===e);if(!n)return{roi:0,paybackPeriod:0,riskLevel:"high"};let r=n.expectedUplift.revenue,o=n.confidence,i=t*(1+r)*o,a=(i-t)/t*100,s="medium";return o>.85&&a>25?s="low":(o<.7||a<15)&&(s="high"),{roi:a,paybackPeriod:Math.max(.5,t/(i-t)*12),riskLevel:s,confidence:o,estimatedRevenue:i}}async function m(e){let{searchParams:t}=new URL(e.url),n=t.get("type")||"all",r=t.get("brand");try{let e={};if("emotional"===n||"all"===n){let t=c;r&&(t={emotional_patterns:c.emotional_patterns.filter(e=>e.brandAssociations.includes(r.toLowerCase())),emotional_correlations:c.emotional_correlations}),e.emotional_analytics=t}if("bundling"===n||"all"===n){let t=l;r&&(t=l.filter(e=>e.brands.includes(r.toLowerCase())));let n=t.map(e=>({...e,roi_analysis:u(e.id,1e4)}));e.bundling_opportunities=n}return s.NextResponse.json({success:!0,data:e,metadata:{type:n,brand:r||"all",dataSource:"advanced_analytics_engine",lastUpdated:new Date().toISOString()},timestamp:new Date().toISOString(),version:"3.3.0"})}catch(e){return console.error("Analytics API error:",e),s.NextResponse.json({success:!1,error:"Failed to load analytics data",timestamp:new Date().toISOString(),version:"3.3.0"},{status:500})}}async function p(e){try{let{analysisType:t,parameters:n,filters:r}=await e.json(),o={};switch(t){case"emotional_engagement":let{brand:i,context:a}=n,l=c.emotional_patterns.filter(e=>(!i||e.brandAssociations.includes(i.toLowerCase()))&&(!a||e.context===a));o={engagement_score:l.reduce((e,t)=>e+t.intensity,0)/l.length,relevant_patterns:l,recommendations:[`Focus on ${l[0]?.emotion} triggers for maximum impact`,`Target ${l[0]?.timeframe} periods for optimal engagement`,`Leverage ${l[0]?.triggers[0]?.replace("_"," ")} messaging`]};break;case"bundling_roi":let{bundleId:m,investment:p}=n,d=u(m,p||1e4);o={bundle_id:m,investment_amount:p||1e4,roi_analysis:d,recommendation:d.roi>20?"Recommended":d.roi>10?"Consider":"Not recommended"};break;default:throw Error(`Unknown analysis type: ${t}`)}return s.NextResponse.json({success:!0,data:o,analysisType:t,timestamp:new Date().toISOString(),version:"3.3.0"})}catch(e){return console.error("Analytics POST API error:",e),s.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to process analytics request",timestamp:new Date().toISOString(),version:"3.3.0"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/analytics/route",pathname:"/api/analytics",filename:"route",bundlePath:"app/api/analytics/route"},resolvedPagePath:"/Users/tbwa/Documents/GitHub/ai-analytics-platform/app/api/analytics/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:_,staticGenerationAsyncStorage:g,serverHooks:f}=d,h="/api/analytics/route";function y(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[276,958],()=>n(6068));module.exports=r})();